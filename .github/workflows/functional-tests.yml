name: Functional Tests
on: [push, pull_request]
env:
  CI: true

jobs:
  functional-chromium:
    name: Chromium Functional Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - uses: microsoft/playwright-github-action@v1
      - run: yarn -s && yarn test:functional --runInBand
        env:
          BROWSER: chromium
          DEBUG: pw:browser

  functional-firefox:
    name: Firefox Functional Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - uses: microsoft/playwright-github-action@v1
      - run: yarn -s && yarn test:functional --runInBand
        env:
          BROWSER: firefox
          DEBUG: pw:browser

  functional-webkit:
    name: WebKit Functional Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - uses: microsoft/playwright-github-action@v1
      - run: yarn -s && yarn test:functional --runInBand
        env:
          BROWSER: webkit
          DEBUG: pw:browser
